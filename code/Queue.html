<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
$(function() {
	var output = $("#output");
	function println( text ) {
		output.html( output.html() + "<br/>" + text );
	}
	
	// Definition for a Task element in a Queue
	class Task {
		// constructor, task represents the task to be performed
		constructor( task, priority ) {
			this.task = task;			// the task to perform  
			this.priority = priority;	// the task's priority			
			this.next = null; 			// the next task in the queue
		}
	
		// Get the task's priority
		GetPriority() {
			return this.priority;
		}
		
		// Set the task's priority
		Priority( priority ) {
			this.priority = priority;
		}
		
		// Get the next task this element is chained to
		GetNext() {
			return this.next;
		}
		
		// Set the next task this element is chained to
		Next( task ) {
			this.next = task;
		}
		
		// Action to take when task is processed
		Action() {
			println( this.task );
		}
	}

	// Definition for a Queue
	class Queue {
		// constructor
		constructor() {
			this.head = null;	// the head of the queue
		}
		
		// Check if Queue is empty
		Empty() {
			if ( this.head == null )
				return true;
			return false;
		}
		
		// Add a task to the queue
		Add( task ) {
			// the queue is empty, set head to the task
			if ( this.Empty() ) {
				this.head = task;
			}
			// otherwise, insert the task into the queue according to the task's priority
			else {
				this.Insert( task );
			}
		}
		
		// Insert a task into the queue based on priority
		Insert( task ) {
			// Start at the head of the chain to search where to insert the task
			var curr = this.head;
			var prev = this.head;
			while ( curr != null ) {
				// Find a task who's priority is less than the new task
				if ( task.GetPriority() > curr.GetPriority() ) {
					// Insert the task in front of the current task.
					task.Next( curr );
					
					// If inserting in front of the head of the queue, 
					// make the new task the head of the queue
					if ( curr == this.head )
						this.head = task;
					// Otherwise, set the previous element's next to the new task
					else {
						prev.Next( task );
					}
					break;
				}
				
				prev = curr;
				curr = curr.GetNext();
			}
			
			// Add to the tail (end) of the queue
			if ( curr == null ) {
				prev.Next( task );
			}
		}
		
		// Remove the top of the queue and process the task
		Pop() {
			// Queue is empty
			if ( this.Empty() )
				return false;
				
			// Process the task here
			this.head.Action();
			
			// Move the head to the next element.
			this.head = this.head.GetNext();
			if ( this.Empty() )
				this.tail = null;
			return true;
		}
	}

	// Test Driver
	println("Process in sequential order tasks: B, C and A" );
	var queue = new Queue();
	queue.Add( new Task( "A", 1 ) );
	queue.Add( new Task( "B", 3 ) );
	queue.Add( new Task( "C", 2 ) );
	while ( queue.Pop() );
});
</script>
<body>
	<div id='output'></div>
</body>